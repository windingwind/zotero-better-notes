<?xml version="1.0"?>
<!-- prettier-ignore -->
<?xml-stylesheet href="chrome://global/skin/" type="text/css"?>
<!-- prettier-ignore -->
<?xml-stylesheet href="chrome://zotero/skin/zotero.css" type="text/css"?>
<!-- prettier-ignore -->
<?xml-stylesheet href="chrome://zotero-platform/content/zotero-react-client.css" type="text/css"?>
<!-- prettier-ignore -->
<!DOCTYPE html>
<html
  lang="en"
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:xul="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul"
  xmlns:html="http://www.w3.org/1999/xhtml"
  windowtype="__addonRef__-syncManager"
  sizemode="normal"
  scrolling="false"
  persist="screenX screenY width height sizemode"
>
  <head>
    <title data-l10n-id="title"></title>
    <meta charset="utf-8" />
    <script>
      document.addEventListener("DOMContentLoaded", (ev) => {
        const { Services } = ChromeUtils.import(
          "resource://gre/modules/Services.jsm",
        );

        Services.scriptloader.loadSubScript(
          "chrome://zotero/content/include.js",
          this,
        );

        Services.scriptloader.loadSubScript(
          "resource://zotero/require.js",
          this,
        );

        if (Zotero.platformMajorVersion >= 102) {
          Services.scriptloader.loadSubScript(
            "chrome://global/content/customElements.js",
            this,
          );
          if (!customElements.get("note-editor")) {
            Services.scriptloader.loadSubScript(
              "chrome://zotero/content/elements/shadowAutocompleteInput.js",
              this,
            );
            Services.scriptloader.loadSubScript(
              "chrome://zotero/content/elements/noteEditor.js",
              this,
            );
            Services.scriptloader.loadSubScript(
              "chrome://zotero/content/elements/relatedBox.js",
              this,
            );
            Services.scriptloader.loadSubScript(
              "chrome://zotero/content/elements/tagsBox.js",
              this,
            );
          }
        }
        window.arguments[0]._initPromise.resolve();
      });
    </script>
    <style>
      html,
      body {
        padding: 0;
        margin: 0;
        height: 100%;
        overflow-x: hidden;
        overflow-y: auto;
        word-wrap: break-word;
        background-color: #f0f0f0;
        font-family: initial;
      }
      #workspace-container {
        padding: 0;
        margin: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
        background-color: #f0f0f0;
      }
    </style>
    <link rel="localization" href="__addonRef__-workspaceWindow.ftl" />
  </head>
  <body>
    <div id="workspace-container"></div>
  </body>
</html>
